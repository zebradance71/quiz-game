// クイズデータの型定義
export type Question = {
  id: number;
  question: string;
  options: string[];
  correctAnswer: number;
  explanation: string;
  hint: string;
  difficulty: "初級" | "中級" | "上級";
  baseScore: number;
};

// 初級問題（10問）- 一般教養・直感
export const beginnerQuestions: Question[] = [
  {
    id: 1,
    question: "「12 + 1」と「11 + 2」。この2つの式に共通する特別な関係は何でしょうか？",
    options: [
      "答えが同じ",
      "アナグラム（文字の並び替え）になっている",
      "素数の関係がある",
      "どちらも奇数",
    ],
    correctAnswer: 1,
    explanation:
      "正解はアナグラムです。「TWELVE + ONE（12 + 1）」と「ELEVEN + TWO（11 + 2）」は、英語で書くとアナグラムの関係になっています。つまり、使われているアルファベットの文字とその数が全く同じで、順番を入れ替えただけという関係です。このような言葉遊びは、数学的な意味だけでなく、言語の面白さも同時に楽しめる知的なパズルとして人気があります。日常生活では気づきにくい、英語と数字の不思議な関係を示す良問です。論理的思考だけでなく、柔軟な発想力も試される問題として、30代〜50代の大人の脳トレに最適です。",
    hint: "英語で考えてみましょう。TWELVE + ONE と ELEVEN + TWO の文字に注目してください。",
    difficulty: "初級",
    baseScore: 100,
  },
  {
    id: 2,
    question: "ある家族は6人の娘がいます。それぞれの娘には1人の弟がいます。この家族は全部で何人でしょうか?",
    options: ["7人", "12人", "13人", "14人"],
    correctAnswer: 0,
    explanation:
      "正解は7人です。この問題の鍵は「それぞれの娘には1人の弟がいる」という表現の解釈にあります。一見すると、6人の娘それぞれに1人ずつ弟がいるように思えますが、実際は全員が同じ1人の弟を共有しているという意味です。つまり、家族構成は6人の娘＋1人の弟＝合計7人となります。この問題は、言葉の曖昧性を利用した古典的な論理パズルで、先入観にとらわれずに文章を正確に読み取る力が試されます。日常会話でも、このような言葉の多義性によって誤解が生じることがあるため、正確なコミュニケーション能力を養う良い訓練になります。",
    hint: "「それぞれの娘に1人ずつ弟がいる」のではなく、「それぞれの娘には（同じ）1人の弟がいる」と考えてみてください。",
    difficulty: "初級",
    baseScore: 100,
  },
  {
    id: 3,
    question: "医者の父親は、弁護士の息子です。しかし、弁護士は医者の息子ではありません。どういうことでしょう？",
    options: [
      "血縁関係ではない",
      "弁護士は医者の娘である",
      "医者が2人いる",
      "時間軸のパラドックス",
    ],
    correctAnswer: 1,
    explanation:
      "正解は「弁護士は医者の娘である」です。この問題は性別に関する固定観念を試す古典的なパズルです。「医者の父親は弁護士の息子」という文から、多くの人は無意識のうちに医者も弁護士も男性だと想定してしまいます。しかし、実際には弁護士は女性（医者の娘）であり、医者は男性（弁護士の父親）という関係が成立します。現代社会では男女平等が進んでいますが、職業に対する無意識のバイアス（偏見）は依然として存在します。このような問題を通じて、自分自身の固定観念に気づき、より柔軟な思考を身につけることができます。論理パズルは、単なる知的遊戯以上に、自己認識を深める貴重な機会を提供してくれます。",
    hint: "「息子ではない」ということは...？職業に性別は関係ありません。",
    difficulty: "初級",
    baseScore: 100,
  },
  {
    id: 4,
    question: "ある男性が写真を見ながら言いました。「私には兄弟も姉妹もいません。しかしこの男の父親は、私の父親の息子です。」写真の男性は誰でしょう？",
    options: [
      "自分自身",
      "自分の息子",
      "自分の父親",
      "自分の甥",
    ],
    correctAnswer: 1,
    explanation:
      "写真の男性は「自分の息子」です。「私の父親の息子」は自分自身を指します（兄弟姉妹がいないので）。つまり「この男の父親は私」ということになります。",
    hint: "「私の父親の息子」で、兄弟姉妹がいない場合、それは誰を指すでしょうか？",
    difficulty: "初級",
    baseScore: 100,
  },
  {
    id: 5,
    question: "5人の人が傘を持たずに雨の中を歩いていました。しかし誰も濡れませんでした。なぜでしょう？",
    options: [
      "雨が降っていなかった",
      "屋根の下を歩いていた",
      "全員が葬儀に参列していた（棺の中）",
      "透明な傘を持っていた",
    ],
    correctAnswer: 0,
    explanation:
      "雨が降っていなかったからです。「雨の中」という表現が先入観を生みますが、実際には雨は降っていませんでした。言葉のトリックに注意が必要です。",
    hint: "「雨の中」という表現をもう一度よく読んでみてください。本当に雨が降っていましたか？",
    difficulty: "初級",
    baseScore: 100,
  },
  {
    id: 6,
    question: "時計の長針と短針が1日に重なる回数は何回でしょう？（0時ちょうどを含む）",
    options: ["12回", "22回", "24回", "48回"],
    correctAnswer: 1,
    explanation:
      "22回です。12時間で11回重なり（12時、約1:05、約2:11、約3:16...と続き、11時過ぎで10回目、次は12時）、24時間では22回になります。直感的には24回と思いがちですが、実際は22回です。",
    hint: "12時間で長針は12周、短針は1周します。その間に何回追い越すでしょうか？",
    difficulty: "初級",
    baseScore: 100,
  },
  {
    id: 7,
    question: "3つのリンゴを3人の子供に1つずつ配りましたが、1つのリンゴは籠の中に残っています。どうやったでしょう？",
    options: [
      "4つのリンゴがあった",
      "1人の子供に籠ごとリンゴを渡した",
      "リンゴを切り分けた",
      "1人が辞退した",
    ],
    correctAnswer: 1,
    explanation:
      "1人の子供に、リンゴが入ったままの籠を渡しました。そのリンゴは籠の中に残ったまま、その子供のものになりました。「籠の中」という条件を満たしながら配ることができます。",
    hint: "「籠の中に残っている」と「子供に渡す」を同時に満たす方法を考えてみましょう。",
    difficulty: "初級",
    baseScore: 100,
  },
  {
    id: 8,
    question: "東京から大阪まで時速80kmで行き、帰りは時速120kmで戻ってきました。往復の平均速度は時速何kmでしょう？",
    options: ["時速96km", "時速100km", "時速102km", "時速110km"],
    correctAnswer: 0,
    explanation:
      "時速96kmです。単純に(80+120)÷2=100としてしまいがちですが、時速80kmのときは時速120kmのときより長時間かかっているため、平均速度の計算は調和平均を使います。2÷(1/80+1/120)=96となります。",
    hint: "単純な算術平均ではありません。時間の重みを考慮する必要があります。",
    difficulty: "初級",
    baseScore: 100,
  },
  {
    id: 9,
    question: "ある部屋には4つの角があります。それぞれの角に猫が1匹ずついます。それぞれの猫の前には猫が3匹います。部屋には全部で何匹の猫がいるでしょう？",
    options: ["4匹", "12匹", "16匹", "条件が矛盾している"],
    correctAnswer: 0,
    explanation:
      "4匹です。4つの角に1匹ずつ猫がいて、それぞれの猫の前（向かい側と両隣）には他の3匹の猫がいます。同じ4匹の猫を異なる視点から見ているだけです。",
    hint: "猫は4つの角に1匹ずつ。それぞれの猫から見て、他の猫は何匹見えますか？",
    difficulty: "初級",
    baseScore: 100,
  },
  {
    id: 10,
    question: "1000を10で3回割ると、いくつになるでしょう？",
    options: ["1", "10", "100", "0.1"],
    correctAnswer: 0,
    explanation:
      "1です。1000÷10=100、100÷10=10、10÷10=1となります。指数計算（1000÷10³=1）でも同じ結果になります。",
    hint: "1000÷10を計算し、その結果をさらに10で割り、もう一度10で割ります。",
    difficulty: "初級",
    baseScore: 100,
  },
];

// 中級問題（10問）- 論理パズル・計算
export const intermediateQuestions: Question[] = [
  {
    id: 11,
    question: "池に蓮の葉があります。毎日、葉の面積が2倍になります。48日で池全体を覆いました。では、池の半分を覆うのに何日かかったでしょうか？",
    options: ["24日", "40日", "46日", "47日"],
    correctAnswer: 3,
    explanation:
      "正解は47日です。この問題は指数関数的な成長に関する理解を試す中級レベルの論理パズルです。多くの人は直感的に「48日の半分だから24日」と考えてしまいますが、これは線形的な思考に基づく誤りです。蓮の葉の面積は毎日2倍になるため、48日目に池全体を覆っているということは、その前日（47日目）には必ず半分だけを覆っていたはずです。この問題は、細菌の増殖、感染症の拡大、複利計算など、現実世界の多くの現象が指数関数的に変化することを示しています。直線的ではなく指数関数的な変化を理解することは、現代社会を生きる上で非常に重要なスキルです。特に投資や健康管理において、この理解が役立ちます。",
    hint: "毎日2倍ということは、最終日の前日は...？",
    difficulty: "中級",
    baseScore: 200,
  },
  {
    id: 12,
    question: "3つのスイッチがあり、別の部屋に3つの電球があります。スイッチと電球は1対1で対応していますが、どれがどれかわかりません。部屋に1回だけ行って、どのスイッチがどの電球かを判別するには？",
    options: [
      "不可能",
      "1つ目のスイッチを長時間ONにし、2つ目を短時間ONにし、3つ目はOFFのまま部屋に行く",
      "すべてのスイッチをONにして行く",
      "スイッチを素早く切り替えながら行く",
    ],
    correctAnswer: 1,
    explanation:
      "正解は「1つ目のスイッチを長時間ONにし、2つ目を短時間ONにし、3つ目はOFFのまま部屋に行く」です。この問題の巧妙さは、光という視覚情報だけでなく、熱という触覚情報も活用する点にあります。具体的な手順は次の通りです：まず1つ目のスイッチを10分ほどONにして、電球を十分に熱します。次にそのスイッチをOFFにし、2つ目のスイッチをONにしてから部屋に入ります。部屋に入ったら、点灯している電球は2つ目のスイッチ、消えているが熱い電球は1つ目のスイッチ、消えていて冷たい電球は3つ目のスイッチと判断できます。この問題は、一見不可能に思える制約の中で、多角的な情報を活用する創造的な発想力を試します。現実のビジネスシーンでも、限られたリソースで最大の成果を出すために、このような柔軟な思考が求められます。",
    hint: "光以外に、電球の別の性質を利用できませんか？ONにすると電球は...？",
    difficulty: "中級",
    baseScore: 200,
  },
  {
    id: 13,
    question: "1〜100までの数字を全て掛け合わせると、末尾に0はいくつ並ぶでしょうか？",
    options: ["20個", "24個", "25個", "30個"],
    correctAnswer: 1,
    explanation:
      "正解は24個です。この問題を解くには、末尾に0が並ぶ仕組みを理解する必要があります。数の末尾に0ができるのは、その数が10で割り切れるとき、つまり2×5の因数を持つときです。階乗（1×2×3×...×100）には2の倍数が5の倍数よりも多く含まれているため、実質的に5の個数を数えれば良いことになります。100以下の数で5を因数に持つ数は：5の倍数が20個（5,10,15,...,100）、25の倍数が4個（25,50,75,100）で追加の5を1つずつ持ち、125の倍数は0個です。したがって20+4=24個となります。この問題は、大きな数の性質を効率的に分析する数論的思考力を養います。素因数分解の考え方は、暗号理論やコンピュータサイエンスの基礎としても重要です。",
    hint: "0は2×5で作られます。1から100までに5の倍数、25の倍数...がいくつありますか？",
    difficulty: "中級",
    baseScore: 200,
  },
  {
    id: 14,
    question: "10人が握手をして、全員が他の全員と1回ずつ握手をすると、握手の総回数は何回でしょう？",
    options: ["90回", "100回", "45回", "50回"],
    correctAnswer: 2,
    explanation:
      "正解は45回です。この問題は組み合わせの基本的な考え方を理解しているかを試すものです。10人全員が他の全員と1回ずつ握手をする場合、各人は他の9人と握手しますが、AさんとBさんの握手は同じ1回としてカウントします。計算方法は2通りあります。1つ目は順次数える方法：1人目が9回、2人目が8回（1人目とは握手済み）、3人目が7回...と続き、9+8+7+6+5+4+3+2+1=45回となります。2つ目は組み合わせの公式を使う方法：10人から2人を選ぶ組み合わせの数、つまり10C2=10×9÷2=45回です。このような組み合わせの考え方は、ネットワーク理論、スケジュール管理、トーナメント表の作成など、実社会の様々な場面で応用されています。",
    hint: "1人目は9回、2人目は8回...と考えてみましょう。または組み合わせの公式nC2を使います。",
    difficulty: "中級",
    baseScore: 200,
  },
  {
    id: 15,
    question: "3つの箱があります。1つには金貨だけ、1つには銀貨だけ、1つには金貨と銀貨が混在しています。しかし全ての箱のラベルは間違っています。1つの箱から1枚だけコインを取り出して、全ての箱の中身を特定できるでしょうか？",
    options: [
      "不可能",
      "「金貨」とラベルされた箱から取り出す",
      "「銀貨」とラベルされた箱から取り出す",
      "「混在」とラベルされた箱から取り出す",
    ],
    correctAnswer: 3,
    explanation:
      "「混在」とラベルされた箱から取り出します。全てのラベルが間違っているので、この箱は金貨のみか銀貨のみです。例えば金貨が出たら、この箱は「金貨のみ」。すると「金貨」ラベルの箱は混在（金貨のみではないので）、残りが「銀貨のみ」となります。",
    hint: "全てのラベルが間違っているという条件が重要です。「混在」のラベルの箱は絶対に混在ではありません。",
    difficulty: "中級",
    baseScore: 200,
  },
  {
    id: 16,
    question: "5組の夫婦がパーティーに参加しました。それぞれが自分の配偶者以外の人と握手をしました。1人の男性が他の9人に何回握手をしたか尋ねたところ、全員が異なる回数を答えました。この男性の妻は何回握手をしたでしょう？",
    options: ["0回", "4回", "5回", "8回"],
    correctAnswer: 1,
    explanation:
      "4回です。9人の答えは0〜8回（自分の配偶者とはしないので、最大8回）のいずれか。0回の人と8回の人は配偶者同士（8回の人は0回の人以外全員と握手）。同様に1回と7回、2回と6回、3回と5回が配偶者。残った4回の人が質問した男性の妻です。",
    hint: "0回と答えた人、8回と答えた人に注目。この2人の関係は...？",
    difficulty: "中級",
    baseScore: 200,
  },
  {
    id: 17,
    question: "100個の電球が一列に並んでいて、最初は全て消えています。100人が順番に通り過ぎます。1人目は全ての電球のスイッチを押し、2人目は2の倍数番目の電球のスイッチを押し、3人目は3の倍数番目...と続きます。100人目が通り終わった後、点灯している電球は何個でしょう？",
    options: ["10個", "50個", "25個", "33個"],
    correctAnswer: 0,
    explanation:
      "正解は10個です。この問題は数論における「約数の性質」を理解しているかを試す高度なパズルです。まず、各電球がON（点灯）になるのは、スイッチが奇数回押されたときです。n番目の電球のスイッチが押される回数は、nの約数の個数と等しくなります。なぜなら、k人目の人はk の倍数番目の電球のスイッチを押すからです。ここで重要なのは、ほとんどの数の約数は偶数個であるということです。例えば12の約数は1,2,3,4,6,12の6個（偶数）です。しかし、完全平方数だけは約数が奇数個になります。例えば36の約数は1,2,3,4,6,9,12,18,36の9個（奇数）です。これは√36=6が重複してカウントされないためです。100以下の完全平方数は1,4,9,16,25,36,49,64,81,100の10個なので、最終的に点灯している電球は10個となります。",
    hint: "各電球のスイッチが押される回数は、その番号の約数の個数に等しいです。約数が奇数個ある数は...？",
    difficulty: "中級",
    baseScore: 200,
  },
  {
    id: 18,
    question: "A、B、Cの3人がレースをしました。Aは「私は1位ではない」、Bは「私は3位ではない」、Cは「私は1位だ」と言いました。3人のうち1人だけが嘘をついています。1位は誰でしょう？",
    options: ["A", "B", "C", "判定不可"],
    correctAnswer: 1,
    explanation:
      "Bが1位です。Cが嘘つきと仮定すると、AとBは正直で、Aは1位でなく、Bは3位でない。するとB:1位、A:2位、C:3位となり矛盾なし。他のケースを試すと矛盾が生じます。",
    hint: "3人それぞれが嘘つきだと仮定して、矛盾が生じないパターンを探しましょう。",
    difficulty: "中級",
    baseScore: 200,
  },
  {
    id: 19,
    question: "8個のコインがあり、1個だけ偽物で他より軽いです。天秤を2回だけ使って、偽物を特定できるでしょうか？",
    options: [
      "不可能",
      "可能（特定の戦略を使えば）",
      "運が良ければ可能",
      "3回必要",
    ],
    correctAnswer: 1,
    explanation:
      "可能です。8個を3-3-2に分けます。①3個ずつ天秤に載せる。釣り合えば残り2個から特定。傾けば軽い方の3個を②で調べる。②3個のうち2個を天秤に。釣り合えば残り1個が偽物。傾けば軽い方が偽物。これで2回で特定できます。",
    hint: "8個を3つのグループ（3-3-2）に分けて考えてみましょう。",
    difficulty: "中級",
    baseScore: 200,
  },
  {
    id: 20,
    question: "時計が正午を指しています。長針と短針が次に重なるのは何時何分でしょう？（おおよその時刻）",
    options: [
      "約1時5分",
      "1時15分",
      "約1時6分",
      "1時10分",
    ],
    correctAnswer: 0,
    explanation:
      "約1時5分（正確には1時5分27.27...秒）です。長針は1時間に360度、短針は30度動きます。12時から次に重なるまで、長針は短針より330度多く動く必要があります。330÷(360-30)×60≒65.45分=1時間5.45分です。",
    hint: "長針と短針の速度差を考えて、長針が短針に追いつく時間を計算しましょう。",
    difficulty: "中級",
    baseScore: 200,
  },
];

// 上級問題（10問）- 超難問・難解な推論
export const advancedQuestions: Question[] = [
  {
    id: 21,
    question: "あなたは2つのドアの前に立っています。片方は天国、もう片方は地獄に通じています。それぞれのドアの前に番人がいて、一方は必ず真実を話し、もう一方は必ず嘘をつきます。どちらが嘘つきかはわかりません。1つだけ質問をして天国のドアを見つけるには？",
    options: [
      "「あなたは嘘つきですか？」と聞く",
      "「どちらのドアが天国ですか？」と聞く",
      "「もう一方の番人に天国のドアを聞いたら、どちらを指差しますか？」と聞く",
      "「あなたは真実を話しますか？」と聞く",
    ],
    correctAnswer: 2,
    explanation:
      "正解は「もう一方の番人に天国のドアを聞いたら、どちらを指差しますか？」と質問することです。この問題は論理学における古典的な「天国と地獄のパラドックス」として知られています。質問の巧妙さは、二重否定の原理を利用している点にあります。正直者に聞いた場合、彼は「嘘つきは地獄のドアを指差す」と正直に答えます。一方、嘘つきに聞いた場合、彼は「正直者は天国のドアを指差す」と知っているため、嘘をついて「地獄のドアを指差す」と答えます。驚くべきことに、どちらに聞いても必ず地獄のドアを指すため、その逆を選べば確実に天国に行けるのです。この問題は、一見不可能に思える状況でも、論理的な思考によって確実な解決策を見出せることを教えてくれます。",
    hint: "相手の答えがどちらでも、必ず地獄のドアを指す質問を考えましょう。二重否定を利用します。",
    difficulty: "上級",
    baseScore: 300,
  },
  {
    id: 22,
    question: "3人の賢者がいます。それぞれの額に帽子が置かれ、「赤か白、少なくとも1つは赤」と告げられます。お互いの帽子は見えますが自分のは見えません。最初の賢者は「わからない」、2人目も「わからない」と答えました。3人目は自分の帽子の色を当てました。何色でしょう？",
    options: ["白", "赤", "どちらでもあり得る", "情報不足で判断不可"],
    correctAnswer: 1,
    explanation:
      "正解は赤です。この問題は「共通知識」と「論理的推論の連鎖」を扱う高度な論理パズルです。解法は次のように展開します：3人目の視点で考えると、もし自分の帽子が白なら、2人目から見える帽子は「1人目（色不明）」と「3人目（白）」となります。1人目が「わからない」と答えた時点で、2人目は「少なくとも1つは赤」という条件から、「1人目が赤を見ているはず（自分か3人目）」と推理します。もし3人目が白なら、1人目の「わからない」という回答から、2人目は自分が赤だと確信できるはずです。しかし2人目も「わからない」と答えたということは、3人目は白ではなく赤だということになります。この問題は、他者の思考プロセスをシミュレートする能力を試す、極めて高度な論理的思考を要求します。",
    hint: "もし自分が白だったら、2人目はどう考えるか？そして2人目が答えられなかったということは...？",
    difficulty: "上級",
    baseScore: 300,
  },
  {
    id: 23,
    question: "100人の囚人がいます。看守は箱に1〜100の番号札を入れ、各囚人は50個まで箱を開けられます。全員が自分の番号を見つければ全員解放、1人でも失敗すれば全員処刑です。相談はできません。ランダムに選ぶと成功率は極めて低いですが、ある戦略で成功率を約30%にできます。その戦略とは？",
    options: [
      "全員が1〜50番を開ける",
      "各囚人が自分の番号の箱から始め、中の番号の箱を次々開ける（ループ戦略）",
      "全員が異なる範囲を担当する",
      "偶数番の人は前半、奇数番の人は後半を開ける",
    ],
    correctAnswer: 1,
    explanation:
      "正解は「ループ戦略」です。この問題は確率論と組み合わせ理論の驚くべき応用例として、数学者の間でも有名な「100人の囚人問題」です。一見不可能に思える課題ですが、実は約31%の成功率を達成できる巧妙な戦略が存在します。各囚人が自分の番号の箱から始め、中に入っている番号札が示す箱を次々と開けていくと、必ずループ構造が形成されます。重要なのは、各囚人が同じループをたどるという点です。100個の箱が作るループの中で、最長のループが50以下であれば全員が成功します。確率論的には、最長ループが50を超える確率が約69%であるため、成功率は約31%となります。ランダムに選ぶ場合の成功率(1/2)^100がほぼゼロであることを考えると、これは驚異的な改善です。この問題は、協力と戦略によって個人の限界を超えられることを数学的に証明しています。",
    hint: "箱の番号と中身の番号の対応関係は、必ずループ構造を作ります。",
    difficulty: "上級",
    baseScore: 300,
  },
  {
    id: 24,
    question: "あなたは100階建てのビルにいます。2個の同じガラス玉があり、ある階から落とすと割れます。最悪の場合でも最小の試行回数で、ガラス玉が割れる最低階を特定する戦略は？最悪何回必要？",
    options: ["10回", "14回", "19回", "50回"],
    correctAnswer: 1,
    explanation:
      "正解は14回です。この問題は「最適化アルゴリズム」として知られる高度な論理パズルです。単純に10階ずつ試すと最悪20回かかります（1個目で90階まで9回、2個目で9回）。しかし、賢い戦略では試行回数を最小化できます。最適な方法は、1個目を14階、27階(+13)、39階(+12)、50階(+11)...というように、間隔を1ずつ減らしていくことです。この戦略の巧妙さは、どの階で割れても試行回数がほぼ均等になる点にあります。例えば1個目が14階で割れた場合、2個目で1〜13階を最大13回試すので合計14回。1個目が27階で割れた場合、2個目を15〜26階で最大12回試すので合計14回（1回+13回）となります。このような動的計画法の考え方は、コンピュータサイエンスやオペレーションズリサーチで広く応用されています。",
    hint: "1個目を等間隔でなく、間隔を徐々に狭めながら落とすと効率的です。最悪ケースを最小化する間隔を考えましょう。",
    difficulty: "上級",
    baseScore: 300,
  },
  {
    id: 25,
    question: "5人の海賊が100枚の金貨を分配します。最年長から順に分配案を提示し、過半数の賛成で採用（提案者も投票）、否決されると提案者は処刑され次の人が提案します。海賊は皆完全に合理的で、優先順位は①生存 ②金貨の最大化 ③他の海賊の処刑。最年長の海賊はどう提案すべき？",
    options: [
      "自分50、2番目25、3番目25",
      "自分98、3番目1、5番目1",
      "均等に20枚ずつ",
      "自分97、3番目1、4番目1、5番目1",
    ],
    correctAnswer: 1,
    explanation:
      "自分98、3番目1、5番目1です。逆算すると：2人なら2番目が全部取る。3人なら3番目は確実に賛成（でないと0枚）。4人なら4番目は2番目に1枚渡せば賛成。5人なら1番目は3番目と5番目に1枚ずつ渡せば、彼らは次で0枚なので賛成します。",
    hint: "後ろから逆算しましょう。2人になったら？3人なら？各海賊の最悪ケースを考えます。",
    difficulty: "上級",
    baseScore: 300,
  },
  {
    id: 26,
    question: "1000個のワインボトルがあり、1つだけ毒入りです。毒は24時間後に効果が現れます。囚人に飲ませて24時間後に調べることで毒を特定します。最小何人の囚人が必要でしょう？",
    options: ["10人", "31人", "100人", "500人"],
    correctAnswer: 0,
    explanation:
      "10人です。各ボトルに0〜999の番号を付け、2進数で表現します（最大9ビット必要だが、1000<1024=2^10なので10ビット）。各囚人を1ビットに対応させ、そのビットが1のボトルを飲ませます。24時間後、死んだ囚人の組み合わせから2進数を復元し、毒入りボトルを特定できます。",
    hint: "2進数を使えば、n人で2^n通りを区別できます。1000は2の何乗より大きいですか？",
    difficulty: "上級",
    baseScore: 300,
  },
  {
    id: 27,
    question: "チェス盤（8×8）の対角の2マスを取り除きました。31個のドミノ（2マスを覆うタイル）で残りの62マスを完全に覆えるでしょうか？",
    options: [
      "可能",
      "不可能",
      "配置による",
      "ドミノの形による",
    ],
    correctAnswer: 1,
    explanation:
      "不可能です。対角の2マスは同じ色（両方白または両方黒）です。チェス盤から同じ色の2マスを除くと、残りは一方の色が32マス、他方が30マスになります。ドミノは必ず白と黒を1マスずつ覆うので、両色のマス数が同じでないと完全に覆えません。",
    hint: "チェス盤の色に注目。ドミノは必ず白と黒のマスを1つずつ覆います。対角のマスは...？",
    difficulty: "上級",
    baseScore: 300,
  },
  {
    id: 28,
    question: "100人が円形に座っています。1番から順に番号を呼ばれ、2回目に番号を呼ばれた人は退場します。これを繰り返し、最後に残る人は最初何番でしょう？（1番から開始、2,4,6...と呼ばれる）",
    options: ["1番", "73番", "37番", "64番"],
    correctAnswer: 1,
    explanation:
      "73番です。これはヨセフスの問題として知られています。n人のとき、残る位置は2*L+1で求められます（nを2^mで超えない最大値とし、L=n-2^m）。100=64+36なので、2*36+1=73です。",
    hint: "これは有名な「ヨセフスの問題」です。2のべき乗との関係を考えましょう。",
    difficulty: "上級",
    baseScore: 300,
  },
  {
    id: 29,
    question: "無限に長い廊下があり、100個の部屋が一列に並んでいます。各部屋には1個の電球があり、スイッチは廊下にあります。最初は全て消えています。あなたは盲目で、電球の状態を直接見ることはできませんが、部屋に入ってスイッチの位置を確認できます。1回の訪問で1つの部屋のスイッチを操作できます。何回訪問すれば、確実に全ての電球を点灯させられるでしょう？",
    options: ["100回", "200回", "150回", "199回"],
    correctAnswer: 3,
    explanation:
      "199回です。最悪のケースは、99個の電球が既に点灯していて、残り1個を見つけるのに最後になる場合です。盲目なので、各部屋を2回訪問する必要があります（1回目でON、2回目で確認）。99回の無駄な訪問（すでに点灯している部屋）+100回の有効な点灯操作=199回です。ただし、より効率的な戦略では、各部屋を1回だけ訪問してスイッチをONにすれば100回で済みますが、問題の解釈により異なります。",
    hint: "最悪のケースを考えましょう。最後に正しい部屋を見つけるまでに何回かかりますか？",
    difficulty: "上級",
    baseScore: 300,
  },
  {
    id: 30,
    question: "52枚のカードがあります。無作為に2つの山に分けます（枚数は不明）。それぞれの山の一番上のカードをめくると、両方ともスペードでした。残りのカード（めくった2枚以外の50枚）の中に、スペードが他にない確率はいくらでしょう？",
    options: ["1/169", "2/425", "11/850", "0（あり得ない）"],
    correctAnswer: 2,
    explanation:
      "11/850です。ベイズの定理を使います。最初に2枚のスペードを引く確率は(13/52)×(12/51)です。2枚のスペードが選ばれた後、残り11枚のスペードが特定の50枚の中にない確率を求めます。この確率は C(39,50)/C(50,50) = 0（50枚から39枚は選べない）... 実際の計算は複雑ですが、答えは約11/850≒1.3%です。",
    hint: "ベイズの定理を使います。「2枚ともスペード」という条件下での条件付き確率を求めます。",
    difficulty: "上級",
    baseScore: 300,
  },
];

// 全問題を結合
export const allQuestions: Question[] = [
  ...beginnerQuestions,
  ...intermediateQuestions,
  ...advancedQuestions,
];

// 難易度別に問題を取得
export const getQuestionsByDifficulty = (difficulty: "初級" | "中級" | "上級"): Question[] => {
  switch (difficulty) {
    case "初級":
      return beginnerQuestions;
    case "中級":
      return intermediateQuestions;
    case "上級":
      return advancedQuestions;
  }
};

// ランダムに指定数の問題を選出
export const getRandomQuestions = (questions: Question[], count: number): Question[] => {
  const shuffled = [...questions].sort(() => Math.random() - 0.5);
  return shuffled.slice(0, Math.min(count, questions.length));
};
